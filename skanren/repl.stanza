
defpackage repl :
    import core
    import reader
    import skanren


println("Hello there!  Welcome to the repl!")

val env = Environment()

while true:
    ; Other possible prompts
    ; ~~(__^·>
    ; ><((((‘>
    ; <(‘–‘)>
    print("(\\\")> ")
    val form = unwrap-all(read-line(STANDARD-INPUT-STREAM))
    for s-exp in form do:
        eval(env, s-exp)
    println("length(env) = %_" % [length(env)])
    println("env = [%,]" % [env])
